#!/bin/bash

# --- LOADER ---
if [[ $(ps -o args= -p $$) == *"bash -x"* || $(ps -o args= -p $$) == *"sh -x"* ]]; then
    echo "Debugging is not allowed." >&2
    exit 1
fi

__run_protected() {
    local encrypted_content='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'
    local obfuscated_key='ZDZiZTljMzVlNGQ1NzRhZDJlZGNiMmFlNGFjZTQzOTU1YjFkMjA2NGE3NjgzOWNmZDc1M2UyNzRlZjM5NzMxMA=='

    local decoded_key=$(echo "$obfuscated_key" | base64 -d)
    if [ -z "$decoded_key" ]; then
        echo "Error: Failed to decode key." >&2
        return 1
    fi

    local decrypted_content=$(echo "$encrypted_content" | base64 -d | openssl enc -d -aes-256-cbc -pbkdf2 -pass pass:"$decoded_key" 2>/dev/null)
    if [ -z "$decrypted_content" ]; then
        echo "Error: Decryption failed." >&2
        return 1
    fi

    # Bersihkan jejak sebelum eksekusi
    unset encrypted_content obfuscated_key decoded_key

    eval "$decrypted_content"
}

__run_protected
