#!/bin/bash

# --- LOADER ---
if [[ $(ps -o args= -p $$) == *"bash -x"* || $(ps -o args= -p $$) == *"sh -x"* ]]; then
    echo "Debugging is not allowed." >&2
    exit 1
fi

__run_protected() {
    local encrypted_content='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'
    local obfuscated_key='ZDk2Yjg5NDQwZTIzZTlmNjk3NzkyMjBmYjU3MGYxYWFmYjZmZmViMTQ1YjBjMTIxNTQ0MDVlNjkyMzZlNTJiMw=='

    local decoded_key=$(echo "$obfuscated_key" | base64 -d)
    if [ -z "$decoded_key" ]; then
        echo "Error: Failed to decode key." >&2
        return 1
    fi

    local decrypted_content=$(echo "$encrypted_content" | base64 -d | openssl enc -d -aes-256-cbc -pbkdf2 -pass pass:"$decoded_key" 2>/dev/null)
    if [ -z "$decrypted_content" ]; then
        echo "Error: Decryption failed." >&2
        return 1
    fi

    # Bersihkan jejak sebelum eksekusi
    unset encrypted_content obfuscated_key decoded_key

    eval "$decrypted_content"
}

__run_protected
